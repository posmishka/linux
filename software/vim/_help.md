_help
==================

#### Взаимодействие с оболочкой
`SHIFT+K` открыть ман по команде под курсором

####Перемещение
`h, j, k, l` ←, ↓, ↑, →
`H/M/L` - переход в вверх/середину/низ экрана
`2H/L` - переход на 2 строку под/над первой/последней
`\+` На первый символ следующей строки
`\-` На первый символ предыдущей стрки
`^` На первый непустой символ текущей строки, игнорируя пробелы и табуляции.
`$` В конец строки
`0` В начало строки
`n|` на n позицию текущей строки. табуляции.
`G` на последнюю строку файла
`nG` на строку номер n
`n%` на строку процент n относительно общего количество строк файла
`ng вверх/вниз` - на n строк вверх/вниз
`''` - в первоначальное положение
`%` при установке на скобке, перемещает на парную

`(` Перемещение в начало текущего предложения
`)` Перемещение в начало следующего предложения
`{` Перемещение в начало текущего абзаца
`}` Перемещение в начало следующего абзаца
`[[` Перемещение в начало текущего раздела
`]]` Перемещение в начало следующего раздела
Если после точки стоит только один пробел или предложение заканчивается кавычками, то vi предложение не распознает

`e или E` В конец слова
`w или W` Вперед на одно слово
`b или B` Назад на одно слово

#### Прокрутка
###### курсор остается на месте
`^E` прокрутка на одну строку вверх
`^Y` прокрутка на одну строку вниз
###### курсор в начало
`^F` Прокрутить вперед на один экран.
`^B` Прокрутить назад на один экран
`^D` Прокрутить вперед (вниз) на полэкрана.
`^U` Прокрутить назад (вверх) на полэкрана.
`z ENTER` Переместить текущую строку на самый верх
`z.` Переместить текущую строку в центр
`z-` Переместить текущую строку в самый низ

#### Поиск
###### поиск по файлу
`?pattern` поиск в обратном направлении
`n` Повторить поиск в том же направлении.
`N` Повторить поиск в противоположном направлении.
`/ENTER` Повторить поиск вперед.
`?ENTER` Повторить поиск назад.
`d/pattern` удаление от текущей позиции до pattern. посимвольно, строки не удаляются.
`''` возвращает курсор на место начала поиска
`\`\`` возвращает курсор в начало строки с места начала поиска 

###### поиск в строке
`fx` переместит курсор на следующее вхождение символа x
`Fx` переместит курсор на пfxредидущее вхождение символа х
`tx` переместит курсор на символ, предшествующий следующему вхождению x
`;` Для повторного поиска в том же направлении
`,` Для повторного поиска в противоположном направлении
`dfx` удаляет все до указанного символа x включительно
`ct.` изменение текста до конца предложения, оставляя завершающую точку.
 
#### Цифры
`50i ESC` вставит 50 звездочек

#### Действие
`S` Удалить строку и подставить текст 
`R` Замещать существующие символы 
`J` Объединить текущую строку со следующей 
`~` Поменять регистр 
`U` Вернуть строку в первоначальное состояние 

#### Режим редактора ex
`ex filename` запуск редактора отдельно.
`vi` запустить редактор vi в режиме ex
`Q` запустить редактор ex в режиме vi
`nu` показать номер и содержимое строки
`|` несколько команд подряд. следующая работает с изменившимся файлом.

###### Адресация
- `0 или 1-` самое начало файла
- `.` текущая строка
- `$` последняя строка файла 
- `%` все строки файла
- `+ или -` по отношению к текущей строке
- `диапазон ,` второе значение вычисляется относительно текущей строки
- `диапазон ;` второе значение вычисляется относительно первого значения
*при использовании + и - точку ставить не обязательно. если не ставить число то они эквивалентнты +1 и -1*

`:1,10#` показать номера строк с первой по 10
`:1,5p` вывести строки с 1 по 5 (при указании диапазона p можно не писать)
`:6` перейти на строку 6
`:`= вывод полного числа строк
`:.`= вывод номера текущей строки
`:/pattern/`= вывести номер строки, которая отвечает шаблону pattern`:/pattern/;+10 p` вывести строку pattern и следующих 10 строк

###### редактирование
`:d/m/t(co)` удалить / переместить / скопировать строку
*каждой команде редактирования необходимо указать номер строки/строк, которые будут редактироваться*
`:1,7d` удалить строки с 1 по 7
`:10,50m5` переместить строки с 10 по 50 и вставить после строки 5
`:1,5t10` скопировать строки с 1 по 5 и вставить после 10й
`:.,$d` удаление с текущей строки до конца файла
`:5,.m$` поместить в конец файла блок строк с 5й по текущую
`:%d` удалить все строки в файле
`:%t$` скопировать все строки и поместить в конец файла
`:.,.+20d` удалить текущую строку и 20 строк после неё
`:10,$m.-2` строки с десятой по конец файла переместить на две строки выше текущей
`:.,+20#` отобразить номера строк с текущей до лежащей ниже на 20 строк
`:-,+t0` копирование 3х строк, от строки выше до строки ниже курсора и вставка в начало файла

###### поиск
`:/pattern/d` удалить следующую найденную строку, содержащую шаблон pattern
`:/pattern/+d` удалить строку ниже той, что содержит шаблон
`:/p1/,/p2/d` удалить строки от первой, содержащей p1, до первой, содержащей p2
`:.,/pattern/m8` текст от текущей строки до первой, содержащей pattern перенести после строки 8
- `g` глобальный поиск шаблона
- `!g` поиск строк, не содержащих шаблон

`:g/pattern` переходит на последнее вхождение pattern в файле
`:g/pattern/p` выводит все строки, содержащие pattern
`:g!/pattern/nu` вывести строки и их номера, не содержащие pattern
`:3,20g/pattern/p` вывести строки с 3 по 20, содержащие pattern
`:1,5 m 10 | g/pattern/nu` перемещение, затем поиск с выводом строк

####### файлы ed
`:x` записать файл если изменен и выйти из редактора *(не изменяет время файла если тот не был изменен, в отличии от безусловной записи :wq)*
`:w!` перезапись файла даже в режиме открытия read-only
`:w %.new` символ % подставляет текущее имя файла
`:100,$w newfile` сохраняет от 100 строки до конца файла в новый файл. См. синтаксис ed. Файл перезапишется.
`:340,$w >>newfile` дописать строки с 340 до конца в новый файл
`:r /home/user/file` считать файл и поместить содержимое под курсором
`*:$r` или `:0r` или `:200r` или `:/pattern/r /home/user/file` считать и вставить в конец, или начало, или после 200й строки, или после строки, содержащей pattern
`:e ~/somefile` открыть новый файл 
`:e #` переключиться на файл из которого было переключение
`:r #` считать один файл в другой
`e!` без аргументов возвращает файл к последней сохраненной версии



 страница 102 примеры


#### Файлы VIM


#### Буферы, метки
- vi сохраняет последние девять удалений в нумерованных буферах
- Последнее хранится в буфере 1, предпоследнее – в буфере 2 и т.д.
- есть 26 именованых буферов a-z
- A-Z прописными - добавить к содержимому существующего буфера

`"2p` восстановить предпоследнее удаление (9 - самое давнее)
`"**d**yy` копировать текущую строку в буфер **d**
`"**a**7yy` копировать семь строк в буфер **а**
`"**d**P` поместить содержимое буфера **d** после курсора
`"**с**5dd` удалить 5 строк в буфер **с**
`"**Z**y)` добавить предложение в буфер **z**


#### Разное
`^L` - перерисовать экран
`^G` - показывает номер строки/количество строк в файле/процент позиции текущей строки
`:set` nu номера строк
`:96,99!sort` выполнить команду над выбранными строками
`! и текст перемещения, потом комманда` выполняет команду к выбранной строке
`:ab` аббревиатура 
- :ab VRI Vipassana Research Institute
- :ab без аргумента - список аббревиатур
- :unab VRI - убрать аббревиатуру
